<div id="page-content" class="col-md-offset-3 col-md-9">
  <header class="app-header row">
    <div class="app-header--primary">
      <div class="app-header--context">
				<div class="app-header--breadcrumbs">
					<ol class="aui-nav aui-nav-breadcrumbs" resolved="">
						<li>
							<a [routerLink]="['/admin/users']">Administration</a>
						</li>
						<li>
								<a [routerLink]="['/admin/users/list']">
									<strong>Users List</strong>
								</a>
						</li>

					</ol>
				</div>
				<h1 class="app-header--heading">
					Users
				</h1>
      </div>
    </div>  
    <div class="app-header--secondary">
    </div>
	</header>
	<br/> <br/>

  <div class="row">

    <div class="col-md-12 table-nav">
      <div class="col-md-3 col-sm-3 col-xs-12 form-group pull-left top_search">
	<div class="input-group">
		<input type="text" class="form-control" 
			[(ngModel)]="searchText"
			(keyup.enter)="filter = searchText"
			placeholder="Search for...">
	  <span class="input-group-btn">
			<button class="btn btn-default" 
				(click)="filter = searchText"
				type="button">
				Go!
			</button>
	  </span>
	</div>
      </div>
			<a appPcariauth
			[mustHavePermission]="['admin_user_create']"
			[mustBeAll]="true" 
				[routerLink]="['/admin/users/create']" class="btn btn-default pull-right">
				<i class="fa fa-plus"></i> &nbsp; Create User
      </a>
    </div>
    
    <div class="col-md-12">
      <table class="table table-striped">
	<thead>
	  <tr>
	    <th>#</th>
	    <th>First Name</th>
	    <th>Last Name</th>
			<th>Username</th>
			<th>Status</th>
	  </tr>
	</thead>
	<tbody>
	  <tr *ngFor="let user of users | userfilter : filter; let i = index">
	    <th scope="row">{{ i+1 }}</th>
	    <td>{{ user.first_name }}</td>
	    <td>{{ user.last_name }}</td>
			<td>{{ user.username }}</td>
			<td>
				<span *ngIf="user.isActive" class="badge badge--success" #active> Active</span>
				<span *ngIf="!user.isActive" class="badge badge--failed" #inactive> Inactive </span>
			</td>
			<td style="text-align: right">
					<button appPcariauth
					[mustHavePermission]="['admin_user_view']"
					[mustBeAll]="true" 
					 class="btn btn-sm btn-default"
					 [routerLink]="['/admin/users/view', user.id]">
					 <i class="fa fa-eye"></i> View</button>
					 <button appPcariauth
					 [mustHavePermission]="['admin_user_update']"
					 [mustBeAll]="true" 
					 class="btn btn-sm btn-warning"
					 [routerLink]="['/admin/users/update', user.id]">
					 <i class="fa fa-edit"></i> Update</button>
				</td>
	  </tr>
	</tbody>
      </table>
    </div>
  </div>
</div>
