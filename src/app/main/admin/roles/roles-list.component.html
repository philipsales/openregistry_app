<div id="page-content" class="col-md-offset-3 col-md-9">
  <header class="app-header row">
    <div class="app-header--primary">
			<div class="app-header--context">
				<div class="app-header--breadcrumbs">
					<ol class="aui-nav aui-nav-breadcrumbs" resolved="">
						<li>
								<a [routerLink]="['/admin/users']">Administration</a>
						</li>
						<li>
							<a [routerLink]="['/admin/roles/list']">
								<strong>Roles List</strong>
							</a>
						</li>
					</ol>
				</div>
				<h1 class="app-header--heading">
					Roles
				</h1>
      </div>
    </div> <!-- app-header--primary -->
    <div class="app-header--secondary"> </div>
	</header>
	<br/> <br/>

  <div class="row">

    <div class="col-md-12 table-nav">
      <div class="col-md-3 col-sm-3 col-xs-12 form-group pull-left top_search">
	<div class="input-group">
		<input type="text" class="form-control"
			[(ngModel)]="searchText"
			(keyup.enter)="filter = searchText"
			placeholder="Search for...">
	  <span class="input-group-btn">
			<button class="btn btn-default"
				(click)="filter = searchText"
				type="button">
				Go!
			</button>
	  </span>
	</div>
      </div>
			<a [routerLink]="['/admin/roles/create']" 
			appPcariauth
			[mustHavePermission]="['admin_role_create']"
			[mustBeAll]="true" 
	 class="btn btn-default pull-right">
	<i class="fa fa-plus"></i> &nbsp; Create Role
      </a>
    </div>
    
    <div class="col-md-12">
      <table class="table table-striped">
	<thead>
	  <tr>
	    <th>#</th>
			<th>Name</th>
			<th>Description</th>
			<th>Status</th>
			<th style="text-align: center"></th>
	  </tr>
	</thead>
	<tbody>
	  <tr  *ngFor="let role of roles | rolefilter : filter; let i = index; let i = index">
	    <th scope="row">{{ i + 1 }}</th>
			<td>{{ role.name }}</td>
			<td>{{ role.description  | ellipsis:50 }}</td>
	    <td>
	      <span *ngIf="role.isActive" class="badge badge--success" #active> Active</span>
	      <span *ngIf="!role.isActive"  class="badge badge--failed" #inactive>Inactive</span>
			</td>
			<td style="text-align: right">
        <button appPcariauth
				[mustHavePermission]="['admin_role_view']"
				[mustBeAll]="true" 
				 class="btn btn-sm btn-default"
				 [routerLink]="['/admin/roles/view', role.id]">
				 <i class="fa fa-eye"></i> View</button>
				 <button appPcariauth
				 [mustHavePermission]="['admin_role_update']"
				 [mustBeAll]="true" 
				 class="btn btn-sm btn-warning"
				 [routerLink]="['/admin/roles/update', role.id]">
         <i class="fa fa-edit"></i> Update</button>
	    </td>
	  </tr>
	</tbody>
      </table>
    </div>
  </div>
</div>
